= Inline
:page-sidebar: am_3_x_sidebar
:page-permalink: am/current/am_userguide_database_identity_provider_inline.html
:page-folder: am/user-guide
:page-layout: am

== Overview

Inline identity providers are based on in-memory user directories. They are useful for testing purposes or setting default accounts.

== Create an inline identity provider

To create an identity provider:

. link:/am/current/am_userguide_authentication.html[Log in to AM Console^].
. If you want to change to a different security domain, select it from the user menu at the top right.
. Click *Settings > Providers*.
. Click the plus icon image:icons/plus-icon.png[].
. Select *Inline* as your identity provider type and click *Next*.
. Give your identity provider a name.
. Configure the settings.
. Click *Create*.

NOTE: If you want to register multiple users, click the *Add user* button before clicking on the *Create* button.

You can also create the identity provider with link:/am/current/management-api/index.html[AM API].

[source]
----
curl -H "Authorization: Bearer :accessToken" \
     -H "Content-Type:application/json;charset=UTF-8" \
     -X POST \
     -d '{
           "type": "inline-am-idp",
           "name": "Inline IdP",
           "configuration": "{\"users\":[{\"firstname\":\"johndoe\",\"lastname\":\"John\",\"username\":\"Doe\",\"password\":\"johndoepassword\"}]}"
         }' \
     http://GRAVITEEIO-AM-MGT-API-HOST/management/organizations/DEFAULT/environments/DEFAULT/domains/:domainId/identities
----

== Test the connection

You can test your database connection using a web application created in AM.

. In AM Console, click *Applications* and select your inline identity provider.
+
image::am/current/graviteeio-am-userguide-social-idp-list.png[]
+
Call the Login page (i.e `/oauth/authorize` endpoint) and try to sign in with the username/password form.
+
If you are unable to authenticate your user, there may be a problem with the identity provider settings. Check the AM Gateway log and audit logs for more information.
