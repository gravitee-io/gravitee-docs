= Upgrade guide
:page-sidebar: cockpit_sidebar
:page-permalink: /cockpit/3.x/cockpit_installguide_migration.html
:page-folder: cockpit/installation-guide

== Overview

This page will list all migration required for Cockpit.
Most of the time, data migration will be handled automatically thanks to Liquibase script, so you will have nothing to do manually.

=== 3.11

For migrating from 3.10 to 3.11, the Liquibase script can long to run because we remove a big amount of useless data from the DB. For users running Cockpit on K8S, the liquibase migration may take too much time to execute, and K8S might kill the pod. In such a case, you should purge data thanks to the following script before deploying the new version.
```
db.getCollection('audits').remove({event: {$in: ["HEALTHCHECK_REPORT_CREATED", "HEALTHCHECK_REPORT_UPDATED", "MONITORING_REPORT_CREATED"]}})
```
